!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(()=>(()=>{"use strict";var e={946:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidFileContentError=void 0;t.InvalidFileContentError=function(){this.name="InvalidFileContentError",this.message="Invalid source is received. Please check contents."}},433:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidFileTypeError=void 0;t.InvalidFileTypeError=function(){this.name="InvalidFileTypeError",this.message="cannot detect text encoding. please load text file."}},154:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NestingLevelTooDeepError=void 0;t.NestingLevelTooDeepError=function(){this.name="NestingLevelTooDeepError",this.message="Nesting level too deep."}},292:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Oud2JSON=t.JSON2Oud=t.InvalidFileTypeError=void 0;var r=n(433);Object.defineProperty(t,"InvalidFileTypeError",{enumerable:!0,get:function(){return r.InvalidFileTypeError}});var i=n(633);Object.defineProperty(t,"JSON2Oud",{enumerable:!0,get:function(){return i.JSON2Oud}});var o=n(481);Object.defineProperty(t,"Oud2JSON",{enumerable:!0,get:function(){return o.Oud2JSON}})},633:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JSON2Oud=void 0;var r=n(744),i=n(825),o=function(){function e(e){this.jsonSource=JSON.parse(e),this.output=""}return e.prototype.parse=function(){var e=this.makeOud(this.jsonSource);return this.output=e.join("\n"),this.output},e.prototype.makeOud=function(e){var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(n===r.META_FIELD_KEYNAME)continue;var o=e[n];if("string"==typeof o){t.push(this.oudKV(n,o));continue}if(i.MULTI_VALUE_KEYS.includes(n)&&Array.isArray(o)){for(var a=0,s=o;a<s.length;a++){var u=s[a];t.push(this.oudKV(n,u))}continue}if(Array.isArray(o)){for(var p=[],l=0,c=o;l<c.length;l++)u=c[l],p.push("".concat(n,".")),p.push.apply(p,this.makeOud(u)),p.push(".");t.push.apply(t,p);continue}t.push("".concat(n,".")),t.push.apply(t,this.makeOud(o)),t.push(".")}return t},e.prototype.oudKV=function(e,t){return"".concat(e,"=").concat(t)},e}();t.JSON2Oud=o},481:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Oud2JSON=void 0;var o=n(946),a=n(433),s=n(154),u=n(744),p=n(287),l=n(491),c=n(825),f=n(612),h=/^([a-zA-Z0-9_]+)\.$/,d=/^\.$/,y=function(){function e(e){var t=e.map((function(e){return e.trimStart()})).filter((function(e){return!!e}));if(!(0,l.isValidOudTextContent)(t))throw new o.InvalidFileContentError;this.sources=t.filter((function(e){return!!e})),this.output={}}return e.prototype.parse=function(){var e=this.makeObj(this.output,0,0).parent;if((0,p.isEmptyObject)(e))throw new a.InvalidFileTypeError;return JSON.stringify(e)},e.prototype.makeObj=function(e,t,n){var o,l,y,m,_,b,g,v,O;if(n>=10)throw new s.NestingLevelTooDeepError;for(var T=t;T<this.sources.length;T++){var S=this.sources[T];if(S){var k=(0,f.splitKV)(S);if(k){var I=k.key,j=k.value;I&&(c.MULTI_VALUE_KEYS.includes(I)||I in e||(e=r(r({},e),((o={})[I]=j,o))),c.MULTI_VALUE_KEYS.includes(I)&&j&&(e=r(r({},e),((l={})[I]=I in e&&Array.isArray(e[I])?i(i([],e[I],!0),[j],!1):[j],l))))}else{var w=S.match(h);if(w&&w[1]){var E=w[1],P=e[E];if("string"==typeof P)throw new a.InvalidFileTypeError;var N=c.UNIQUE_OBJECT_KEYS.includes(E),A=this.makeObj({},T+1,n+1),C=A.parent,M=A.idx;if(N){var D=null!==(v=P)&&void 0!==v?v:{};e=r(r({},e),((y={})[E]=r(r({},D),C),y))}else{var L=null!==(O=P)&&void 0!==O?O:[];e=r(r({},e),((m={})[E]=i(i([],L,!0),[C],!1),m))}T=M,"Kudari"!==E&&"Nobori"!==E||!(0,p.isEmptyObject)(e[E],!0)||(e[E]=((_={Ressya:[]})[u.META_FIELD_KEYNAME]={entry:T-1,last:T},_))}else if(S.match(d))return{parent:r(r({},e),(b={},b[u.META_FIELD_KEYNAME]={entry:t-1,last:T},b)),idx:T}}}}return{parent:r(r({},e),(g={},g[u.META_FIELD_KEYNAME]={entry:t,last:this.sources.length-1},g)),idx:-1}},e}();t.Oud2JSON=y},744:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.META_FIELD_KEYNAME=void 0,t.META_FIELD_KEYNAME="__meta__"},287:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyObject=void 0;var r=n(744);t.isEmptyObject=function(e,t){void 0===t&&(t=!1);try{if("object"!=typeof e||Array.isArray(e))return!1;var n=Object.keys(e);return t?0===n.length||1===n.length&&n[0]===r.META_FIELD_KEYNAME:0===n.length}catch(e){return console.warn(e),!1}}},491:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isValidOudTextContent=void 0;var r=n(612),i=/^([a-zA-Z0-9_]+)\.$/,o=/^\.$/;t.isValidOudTextContent=function(e){var t;if(e.length<2)return!1;var n=(0,r.splitKV)(e[0]),a=(0,r.splitKV)(e[e.length-1]),s=e.filter((function(e){return i.test(e)})).length,u=e.filter((function(e){return o.test(e)})).length;return null!==(t=n&&"FileType"===n.key&&a&&"FileTypeAppComment"===a.key&&s===u)&&void 0!==t&&t}},825:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MULTI_VALUE_KEYS=t.UNIQUE_OBJECT_KEYS=void 0,t.UNIQUE_OBJECT_KEYS=["Kudari","Nobori","DispProp"],t.MULTI_VALUE_KEYS=["JikokuhyouFont"]},612:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.splitKV=void 0;var n=/^([a-zA-Z0-9_]+)=(.*)$/;t.splitKV=function(e){var t,r=e.match(n);return null===r||r.length<2?null:{key:r[1],value:(null!==(t=r[2])&&void 0!==t?t:"").trimEnd()}}},187:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.stHandlingType=void 0,t.stHandlingType={fromNative:function(e){return"1"===e?10:"2"===e?20:"3"===e?30:"4"===e?40:0},fromOO:function(e){return 10===e?"1":20===e?"2":30===e?"3":40===e?"4":""}}},223:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidABGRColorError=void 0;t.InvalidABGRColorError=function e(t){this.name=e.name,this.message="Invalid format. should be #AABBGGRR : (".concat(t,")")}},86:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidHEXColorError=void 0;t.InvalidHEXColorError=function e(t){this.name=e.name,this.message="Invalid format. should be #RRGGBB or #RGB : (".concat(t,")")}},163:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;var r=n(223),i=n(86),o=function(){function e(e){this._r=0,this._g=0,this._b=0,void 0!==e&&this.setFromHEX(e)}return e.prototype.setFromHEX=function(e){var t=[e.match(/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/),e.match(/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/)];if(t[0]){var n=t[0][1],r=t[0][2],o=t[0][3];if(n&&r&&o)return this._r=parseInt("".concat(n).concat(n),16),this._g=parseInt("".concat(r).concat(r),16),void(this._b=parseInt("".concat(o).concat(o),16))}else if(t[1]&&(n=t[1][1],r=t[1][2],o=t[1][3],n&&r&&o))return this._r=parseInt(n,16),this._g=parseInt(r,16),void(this._b=parseInt(o,16));throw new i.InvalidHEXColorError(e)},e.prototype.setFromABGR=function(e){var t=e.match(/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/);if(t){var n=t[4],i=t[3],o=t[2];if(n&&i&&o)return this._r=parseInt(n,16),this._g=parseInt(i,16),void(this._b=parseInt(o,16))}throw new r.InvalidABGRColorError(e)},e.prototype.RGB=function(){return"rgb("+this._r+", "+this._g+", "+this._b+")"},e.prototype.HEX=function(e){return void 0===e&&(e=!0),(e?"#":"")+this._r.toString(16).padStart(2,"0")+this._g.toString(16).padStart(2,"0")+this._b.toString(16).padStart(2,"0")},e.prototype.BGR=function(e){return void 0===e&&(e=!0),(e?"#":"")+this._b.toString(16).padStart(2,"0")+this._g.toString(16).padStart(2,"0")+this._r.toString(16).padStart(2,"0")+"00"},e.prototype.toJSON=function(){return{r:this._r,g:this._g,b:this._b}},e}();t.Color=o},657:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Diagram=void 0;var n=function(){function e(){this._name="",this._downStreaks=new Array,this._upStreaks=new Array}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"downStreaks",{get:function(){return this._downStreaks},set:function(e){this._downStreaks=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"upStreaks",{get:function(){return this._upStreaks},set:function(e){this._upStreaks=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{name:this.name,downStreaks:this.downStreaks,upStreaks:this.upStreaks}},e}();t.Diagram=n},628:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StHandling=void 0;var r=n(203),i=function(){function e(){this._type=0,this._arrival=new r.Time,this._departure=new r.Time,this._track=0,this.type=0,this.arrival=new r.Time,this.departure=new r.Time}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arrival",{get:function(){return this._arrival},set:function(e){this._arrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"departure",{get:function(){return this._departure},set:function(e){this._departure=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"track",{get:function(){return this._track},set:function(e){this._track=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{type:this.type,arrival:this.arrival.getTime(),departure:this.departure.getTime(),track:this.track}},e}();t.StHandling=i},288:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Station=void 0;var n=function(){function e(){this._name="",this._timeType=0,this._scale=0,this._trainInfoDown=0,this._trainInfoUp=0,this._boundary=!1,this._additionalOption=0,this._shouldShowLineNumberDown=!1,this._shouldShowLineNumberUp=!1,this._shouldShowLines=!1,this._lines=[],this._mainLineDown=0,this._mainLineUp=0}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeType",{get:function(){return this._timeType},set:function(e){this._timeType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trainInfoDown",{get:function(){return this._trainInfoDown},set:function(e){this._trainInfoDown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trainInfoUp",{get:function(){return this._trainInfoUp},set:function(e){this._trainInfoUp=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this._boundary},set:function(e){this._boundary=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"additionalOption",{get:function(){return this._additionalOption},set:function(e){this._additionalOption=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShowLineNumberDown",{get:function(){return this._shouldShowLineNumberDown},set:function(e){this._shouldShowLineNumberDown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShowLineNumberUp",{get:function(){return this._shouldShowLineNumberUp},set:function(e){this._shouldShowLineNumberUp=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShowLines",{get:function(){return this._shouldShowLines},set:function(e){this._shouldShowLines=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lines",{get:function(){return this._lines},set:function(e){this._lines=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainLineDown",{get:function(){return this._mainLineDown},set:function(e){this._mainLineDown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainLineUp",{get:function(){return this._mainLineUp},set:function(e){this._mainLineUp=e},enumerable:!1,configurable:!0}),e.timeTypeToInt=function(e){switch(e){case"Jikokukeisiki_Hatsuchaku":return 10;case"Jikokukeisiki_KudariChaku":return 20;case"Jikokukeisiki_NoboriChaku":return 30;default:return 0}},e.prototype.parseTimeType=function(){switch(this.timeType){case 10:return"Jikokukeisiki_Hatsuchaku";case 20:return"Jikokukeisiki_KudariChaku";case 30:return"Jikokukeisiki_NoboriChaku";default:return"Jikokukeisiki_Hatsu"}},e.scaleToInt=function(e){return"Ekikibo_Syuyou"===e?10:0},e.prototype.parseScale=function(){return 10===this.scale?"Ekikibo_Syuyou":"Ekikibo_Ippan"},e.trainInfoToInt=function(e){switch(e){case"DiagramRessyajouhouHyouji_Anytime":return 20;case"DiagramRessyajouhouHyouji_Not":return 0;default:return 10}},e.prototype.toJSON=function(){return{name:this.name,timeType:this.timeType,scale:this.scale,trainInfoDown:this.trainInfoDown,trainInfoUp:this.trainInfoUp,boundary:this.boundary,additionalOption:this.additionalOption,shouldShowLineNumberDown:this.shouldShowLineNumberDown,shouldShowLineNumberUp:this.shouldShowLineNumberUp,shouldShowLines:this.shouldShowLines,lines:this.lines,mainLineDown:this.mainLineDown,mainLineUp:this.mainLineUp}},e}();t.Station=n},396:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Streak=void 0;var n=function(){function e(){this._operationNum="",this._typeIdx=0,this._name="",this._destIdx=0,this._stHandlings=new Array,this._comment=""}return Object.defineProperty(e.prototype,"operationNum",{get:function(){return this._operationNum},set:function(e){this._operationNum=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeIdx",{get:function(){return this._typeIdx},set:function(e){this._typeIdx=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"no",{get:function(){return this._no},set:function(e){this._no=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destIdx",{get:function(){return this._destIdx},set:function(e){this._destIdx=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stHandlings",{get:function(){return this._stHandlings},set:function(e){this._stHandlings=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"comment",{get:function(){return this._comment},set:function(e){this._comment=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{operationNum:this.operationNum,typeIdx:this.typeIdx,name:this.name,no:this.no,destIdx:this.destIdx,stHandlings:this.stHandlings.map((function(e){return e.toJSON()})),comment:this.comment}},e}();t.Streak=n},203:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;var n=function(){function e(e){this.seconds=0,null!=e?this.setTime(e):this.seconds=-1}return Object.defineProperty(e.prototype,"isNull",{get:function(){return this.seconds<0},enumerable:!1,configurable:!0}),e.prototype.getTime=function(){return this.seconds},e.prototype.setTime=function(e){if(null!==e&&null!==e.match(/^[0-9]{3,6}$/)){var t=parseInt(e);3<=e.length&&e.length<=4?this.seconds=3600*Math.floor(t/100)+t%100*60:5<=e.length&&e.length<=6&&(this.seconds=3600*Math.floor(t/1e4)+60*Math.floor(t%1e4/100)+t%100)}else this.seconds=-1},e.prototype.compareWith=function(e){var t=this.seconds-e.seconds;return t<0?-1:0==t?0:1},e.prototype.differenceTo=function(t){return new e((this.seconds-t.seconds|0).toString())},e}();t.Time=n},922:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TrainType=void 0;var r=n(163),i=function(){function e(){this._name="",this._shortname="",this._trainColor=new r.Color,this._fontIdx=0,this._lineColor=new r.Color,this._lineType=0,this._lineWeight=0,this._shoudDrawStopMark=!1}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shortname",{get:function(){return this._shortname},set:function(e){this._shortname=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trainColor",{get:function(){return this._trainColor},set:function(e){this._trainColor=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontIdx",{get:function(){return this._fontIdx},set:function(e){this._fontIdx=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineColor",{get:function(){return this._lineColor},set:function(e){this._lineColor=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineType",{get:function(){return this._lineType},set:function(e){this._lineType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWeight",{get:function(){return this._lineWeight},set:function(e){this._lineWeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shoudDrawStopMark",{get:function(){return this._shoudDrawStopMark},set:function(e){this._shoudDrawStopMark=e},enumerable:!1,configurable:!0}),e.lineStyleToInt=function(e){switch(e){case"SenStyle_Tensen":return 10;case"SenStyle_Hasen":return 20;default:return 0}},e.lineIsBoldToWeight=function(e){return"1"===e?2:1},e.prototype.toJSON=function(){return{name:this.name,shortname:this.shortname,trainColor:this.trainColor.toJSON(),fontIdx:this.fontIdx,lineColor:this.lineColor.toJSON(),lineType:this.lineType,lineWeight:this.lineWeight,shoudDrawStopMark:this.shoudDrawStopMark}},e}();t.TrainType=i}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}var r={};return(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.O_O=void 0;var t=n(292),i=n(163),o=n(657),a=n(288),s=n(628),u=n(396),p=n(187),l=n(922),c=function(){function e(){this._fileType="",this._fileTypeAppComment="",this._name="",this._color=new i.Color,this._stations=new Array,this._trainTypes=new Array,this._diagrams=new Array}return Object.defineProperty(e.prototype,"fileType",{get:function(){return this._fileType},set:function(e){this._fileType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileTypeAppComment",{get:function(){return this._fileTypeAppComment},set:function(e){this._fileTypeAppComment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stations",{get:function(){return this._stations},set:function(e){this._stations=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trainTypes",{get:function(){return this._trainTypes},set:function(e){this._trainTypes=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagrams",{get:function(){return this._diagrams},set:function(e){this._diagrams=e},enumerable:!1,configurable:!0}),e.prototype.fromOud=function(e){var n=new t.Oud2JSON(e),r=JSON.parse(n.parse()),c=r.Rosen[0];function f(e){return e.Ressya.map((function(e){var t=new u.Streak;return t.typeIdx=parseInt(e.Syubetsu),t.name=e.Ressyamei,t.operationNum=e.Ressyabangou,e.Bikou&&(t.comment=e.Bikou),e.Gousuu&&(t.no=e.Gousuu),t.stHandlings=e.EkiJikoku.split(",").map((function(e){var t=new s.StHandling;if(""!==e){var n=e.split(";");if(n[0]&&(t.type=p.stHandlingType.fromNative(n[0]),void 0!==n[1])){var r=n[1].split("/");r[0]&&(void 0===r[1]?(t.arrival.setTime(null),t.departure.setTime(r[0])):""===r[1]?(t.arrival.setTime(r[0]),t.departure.setTime(null)):(t.arrival.setTime(r[0]),t.departure.setTime(r[1])))}}return t})),t}))}return this.fileType=r.FileType,this.name=c.Rosenmei,this.fileTypeAppComment=r.FileTypeAppComment,this.stations=c.Eki.map((function(e){var t=new a.Station;return t.name=e.Ekimei,t.timeType=a.Station.timeTypeToInt(e.Ekijikokukeisiki),t.scale=a.Station.scaleToInt(e.Ekikibo),t.trainInfoDown=a.Station.trainInfoToInt(e.DiagramRessyajouhouHyoujiKudari),t.trainInfoUp=a.Station.trainInfoToInt(e.DiagramRessyajouhouHyoujiNobori),t})),this.trainTypes=c.Ressyasyubetsu.map((function(e){var t=new l.TrainType;return t.name=e.Syubetsumei,t.shortname=e.Ryakusyou,t.trainColor=new i.Color,t.trainColor.setFromABGR(e.JikokuhyouMojiColor),t.fontIdx=parseInt(e.JikokuhyouFontIndex),t.lineColor=new i.Color,t.lineColor.setFromABGR(e.DiagramSenColor),t.lineType=l.TrainType.lineStyleToInt(e.DiagramSenStyle),t.lineWeight=l.TrainType.lineIsBoldToWeight(e.DiagramSenIsBold),t.shoudDrawStopMark="EStopMarkDrawType_DrawOnStop"===e.StopMarkDrawType,t})),this.diagrams=c.Dia.map((function(e){var t=new o.Diagram;return t.name=e.DiaName,t.downStreaks=f(e.Kudari),t.upStreaks=f(e.Nobori),t})),this},e.prototype.toJSON=function(){return{fileType:this.fileType,fileTypeAppComment:this.fileTypeAppComment,name:this.name,stations:this.stations,trainTypes:this.trainTypes,diagrams:this.diagrams}},e}();e.O_O=c})(),r})()));